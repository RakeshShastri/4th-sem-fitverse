<!DOCTYPE html>

<html>
    <meta charset="utf-8">
    <title> </title>
    <link  rel="stylesheet" href="loginform.css"/>
    <head> 
        <body>
           <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body>
    <!-- home css style -->
    <link rel="stylesheet" href="home.css">

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="/JavaScript/parallax.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script>
        var loginDetails
        fetch('http://localhost:8080/checkLogin')
        .then((response) => response.json())
        .then((data) => checkLoggedIn(data));
        checkLoggedIn = (logincheck) => {
            if(logincheck.isLoggedIn) {
                getLoginDetails();
            } else console.log("false");
        }
        getLoginDetails = () => {
            fetch('http://localhost:8080/getLoginDetails')
            .then((response) => response.json())
            .then((logindata) => changeLoginBttn(logindata));
            
        }
        changeLoginBttn = (loginData) => {
            const bttn = document.getElementById('loginbttn');
            var accBttn = document.createElement('li');
            accBttn.className = "nav-item dropdown";
            

            var toggle = document.createElement('a');
            toggle.setAttribute("data-toggle","dropdown");
            toggle.innerText = loginData.username;

            var listDiv = document.createElement('div');
            listDiv.className = "dropdown-menu"
            listDiv.ariaLabel = "acc_drop";

            var accBttnList1 = document.createElement('a');
            accBttnList1.className = "dropsown-item noline";
            accBttnList1.href = "/LogOut";
            accBttnList1.innerText = "Logout";

            var accBttnList2 = document.createElement('a');
            accBttnList2.className = "dropsown-item noline";
            accBttnList2.href = "/login_forms.html";
            accBttnList2.innerText = "Fitness Details";


            var span = document.createElement('span');
            span.className= "caret";

            listDiv.appendChild(accBttnList1);
            listDiv.appendChild(accBttnList2);
            accBttn.appendChild(toggle);
            accBttn.appendChild(span);
            accBttn.appendChild(listDiv);

            
            bttn.replaceWith(accBttn);

            changeUsername(loginData);
        }
        changeUsername = (loginData) => {
          var email = document.getElementById('username');
          email.setAttribute("value", loginData.username);
        }
    </script>

  <nav class="navbar navbar-expand-md nav-menu navbar-light bg-light sticky-top" >
    
    <a class="navbar-brand noline" href="index.html"><img src="fit-verse.png" alt="logo" style="width: 200px; padding: 5px;"></a>
    
    <button class="navbar-toggler noline" data-toggle="collapse" data-target="#collapse_target">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="collapse_target" style="border-bottom: no;">

      <ul class="navbar-nav mr-auto">
        <li class="nav-item active ">
            <a class="nav-link " href="index.html"> HOME </a>
        </li>
          <li class="nav-item ">
              <a class="nav-link " href="workouts.html">   WORKOUTS </a>
          </li>

          <li class="nav-item dropdown">
             <a class="nav-link dropdown-toggle " data-toggle="dropdown" data-target="#drills_drop" href="#"> 
             DRILLS
             <span class="caret"></span>
            </a>
            <div class="dropdown-menu " aria-labelledby="drills_drop">
                <a class="dropsown-item noline" href="/drills/drill_hiit.html" style="text-decoration: none;">HIIT</a>
                <div class="dropdown-divider"></div>
                <a class="dropsown-item noline" href="/drills/drill_wt.html" style="text-decoration: none;">Weight Training</a>
                <div class="dropdown-divider"></div>
                <a class="dropsown-item noline" href="/drills/drill_yoga.html" style="text-decoration: none;">Yoga</a>
                <div class="dropdown-divider"></div>
                <a class="dropsown-item noline" href="/drills/drill_calis.html" style="text-decoration: none;">Calisthenics</a>
                <div class="dropdown-divider"></div>
                <a class="dropsown-item noline" href="/drills/drill_abs.html" style="text-decoration: none;">Abs</a>
                
            </div>
          </li>
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-target="#collec_drop" href="#"> 
            SPORTS
            <span class="caret"></span>
           </a>
           <div class="dropdown-menu" aria-labelledby="collec_drop">
            <a class="dropsown-item noline" href="/sports/foot.html" style="text-decoration: none;">Football</a>
            <div class="dropdown-divider"></div>
            <a class="dropsown-item noline" href="/sports/basket.html" style="text-decoration: none;">Basketball</a>
            <div class="dropdown-divider"></div>
            <a class="dropsown-item noline" href="/sports/cric.html" style="text-decoration: none; ">Cricket</a>
        </div>
          </li>
          
          <li></li>
      </ul>
      <a href="/login/login-page.html" class="login-btn scrollto" style="text-decoration: none;" id = "loginbttn">LOG IN</a>
    </div>
  </nav>
 
            <h1>Welcome to Fit-verse! Enter your fitness data</h1>
            <div class="bg-img">
            <form method="post" action="/putFitnessData" >
            
               <div class="row1">
                    <div class="col-25">
                      <label for="USER ID">USER ID</label>
                    </div>
                    <div class="col-75">
                      <input type="email" id="username" name="username" placeholder="John123@gmail.com" required>
                    </div>
                  </div>
           
                  <div class="row2">
                    <div class="col-25">
                      <label for="Daily calories">Daily calories</label>
                    </div>
                    <div class="col-75">
                      <input type="number" id="Daily_calories" name="Daily_calories">
                    </div>
                  </div>
                
                  <div class="row3">
                    <div class="col-25">
                      <label for="Workout Frequency">Workout Frequency</label>
                    </div>
                    <div class="col-75">
                      <input type="text" id="Workout_Frequency" name="Workout_Frequency" >
                    </div>
                  </div>
                
                  <div class="row4">
                    <div class="col-25">
                      <label for="Height">Height</label>
                    </div>
                    <div class="col-75">
                      <input type="text" id="Height" name="Height" >
                    </div>
                  </div>
                
                  <div class="row5">
                    <div class="col-25">
                      <label for="Weight">Weight</label>
                    </div>
                    <div class="col-75">
                      <input type="text" id="Weight" name="Weight" >
                    </div>
                  </div>
                
                  <div class="row6">
                    <div class="col-25">
                      <label for="BMI">BMI</label>
                    </div>
                    <div class="col-75">
                      <input type="number" id="bmi" name="bmi" >
                    </div>
                  </div>
              
                  <div class="row7">
                    <div class="col-25">
                      <label for="Health Conditions">Health Conditions</label>
                    </div>
                    <div class="col-75">
                      <input type="text" id="Health_Conditions" name="Health_Conditions" placeholder="NIL" >
                    </div>
                  </div>
               
             
              <button class="button button1" type = "reset"> Reset </button>
              <button class="button button2" type = "submit"> Submit </button>
            </form>
            </div>
        </body>
    
</html>